import"./bootstrap.esm-191b8220.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();document.addEventListener("turbo:load",(()=>{const e=document.getElementById("prompt"),t=document.getElementById("chat-container"),n=document.getElementById("chat-indicator"),o=document.getElementById("call-gpt-api"),r=(new Date).getHours();let c;function i(){n.style.display="none"}c=r<12?"Good morning":r<18?"Good afternoon":"Good evening",document.getElementById("greeting").innerHTML=c,o.addEventListener("submit",(o=>{o.preventDefault();const r=e.value.trim();if(""===r)return;!function(e,n){const o=document.createElement("div");o.classList.add("chat-bubble",e);const r=document.createElement("p");r.innerText=n,o.appendChild(r),t.appendChild(o),t.scrollBottom=t.scrollHeight}("user",r),e.value="",n.style.display="flex";fetch("https://openai80.p.rapidapi.com/chat/completions",{method:"POST",headers:{"content-type":"application/json","X-RapidAPI-Key":"5006587f3dmshcdcc56d3e31c495p19681djsn4a9f5cfa3930","X-RapidAPI-Host":"openai80.p.rapidapi.com"},body:`{"model":"gpt-3.5-turbo","messages":[{"role":"user","content":"${r}"}]}`}).then((e=>e.json())).then((e=>{if(i(),e.choices&&e.choices.length>0){!function(e){const n=e.trim(),o=document.createElement("div");o.classList.add("chat-bubble","bot"),t.appendChild(o);const r=document.createElement("p");o.appendChild(r);const c=n.split(" ");let i=0;const s=()=>{i<c.length?(r.innerText+=c[i],i<c.length-1&&(r.innerText+=" "),i++,setTimeout((()=>{s()}),Math.floor(200*Math.random())+50)):(r.innerText=n,t.scrollTop=t.scrollHeight)};s()}(e.choices[0].message.content)}else console.error("No response from the API")})).catch((e=>{i(),console.error(e)}))}))}));
