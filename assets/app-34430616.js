import{r as e,a as t,b as o}from"./config-7583dc33.js";document.addEventListener("turbo:load",(()=>{const n=document.getElementById("prompt"),c=document.getElementById("chat-container"),s=document.getElementById("chat-indicator"),r=document.getElementById("call-gpt-api"),d=(new Date).getHours();let l;function i(){s.style.display="none"}l=d<12?"Good morning":d<18?"Good afternoon":"Good evening",document.getElementById("greeting").innerHTML=l,r.addEventListener("submit",(r=>{r.preventDefault();const d=n.value.trim();if(""===d)return;!function(e,t){const o=document.createElement("div");o.classList.add("chat-bubble",e);const n=document.createElement("p");n.innerText=t,o.appendChild(n),c.appendChild(o),c.scrollTop=c.scrollHeight}("user",d),n.value="",s.style.display="flex";const l={method:"POST",headers:{"content-type":"application/json","X-RapidAPI-Key":e,"X-RapidAPI-Host":t},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:`${d}`}]})};fetch(o,l).then((e=>e.json())).then((e=>{if(i(),e.choices&&e.choices.length>0){!function(e){const t=e.trim(),o=document.createElement("div");o.classList.add("chat-bubble","bot"),c.appendChild(o);const n=document.createElement("p");o.appendChild(n);const s=t.split(" ");let r=0;const d=()=>{r<s.length?(n.innerText+=s[r],r<s.length-1&&(n.innerText+=" "),r++,setTimeout((()=>{d()}),Math.floor(200*Math.random())+50)):(n.innerText=t,c.scrollTop=c.scrollHeight)};d()}(e.choices[0].message.content)}else console.error("No response from the API")})).catch((e=>{i(),console.error(e)}))}));const a=e=>{e.querySelector(".dropdown-menu").classList.toggle("show")};document.querySelectorAll(".dropdown-toggle").forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest(".dropdown");a(t)}))})),document.addEventListener("click",(e=>{document.querySelectorAll(".dropdown").forEach((t=>{if(!t.contains(e.target)){const e=t.querySelector(".dropdown-menu");e.classList.contains("show")&&e.classList.remove("show")}}))}));document.querySelectorAll(".dropdown-menu li a").forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest(".dropdown");a(t)}))}))}));
