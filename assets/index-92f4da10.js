import"./bootstrap.esm-191b8220.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();document.addEventListener("turbo:load",(()=>{const e=document.getElementById("prompt"),t=document.getElementById("chat-container"),o=document.getElementById("chat-indicator"),n=document.getElementById("call-gpt-api"),r=(new Date).getHours();let c;function s(){o.style.display="none"}c=r<12?"Good morning":r<18?"Good afternoon":"Good evening",document.getElementById("greeting").innerHTML=c,n.addEventListener("submit",(n=>{n.preventDefault();const r=e.value.trim();if(""===r)return;!function(e,o){const n=document.createElement("div");n.classList.add("chat-bubble",e);const r=document.createElement("p");r.innerText=o,n.appendChild(r),t.appendChild(n),t.scrollBottom=t.scrollHeight}("user",r),e.value="",o.style.display="flex";fetch("https://openai80.p.rapidapi.com/chat/completions",{method:"POST",headers:{"content-type":"application/json","X-RapidAPI-Key":"5006587f3dmshcdcc56d3e31c495p19681djsn4a9f5cfa3930","X-RapidAPI-Host":"openai80.p.rapidapi.com"},body:`{"model":"gpt-3.5-turbo","messages":[{"role":"user","content":"${r}"}]}`}).then((e=>e.json())).then((e=>{if(s(),e.choices&&e.choices.length>0){!function(e){const o=e.trim(),n=document.createElement("div");n.classList.add("chat-bubble","bot"),t.appendChild(n);const r=document.createElement("p");n.appendChild(r);const c=o.split(" ");let s=0;const i=()=>{s<c.length?(r.innerText+=c[s],s<c.length-1&&(r.innerText+=" "),s++,setTimeout((()=>{i()}),Math.floor(200*Math.random())+50)):(r.innerText=o,t.scrollTop=t.scrollHeight)};i()}(e.choices[0].message.content)}else console.error("No response from the API")})).catch((e=>{s(),console.error(e)}))}));const i=e=>{e.querySelector(".dropdown-menu").classList.toggle("show")};document.querySelectorAll(".dropdown-toggle").forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest(".dropdown");i(t)}))})),document.addEventListener("click",(e=>{document.querySelectorAll(".dropdown").forEach((t=>{if(!t.contains(e.target)){const e=t.querySelector(".dropdown-menu");e.classList.contains("show")&&e.classList.remove("show")}}))}));document.querySelectorAll(".dropdown-menu li a").forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest(".dropdown");i(t)}))}))}));
